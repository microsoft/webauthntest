/* Spacing & layout for Update Transports dialog action buttons */
.transport-actions {
  margin-top: 20px; /* space before divider */
  padding-top: 14px; /* spacing above buttons */
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  border-top: 2px solid rgba(63,81,181,0.45); /* thicker themed indigo divider */
}
/*
  NOTE: Several elements inside credential cards use a .mono class with
  100% width. Historically the padding+border caused visual overflow where
  the rounded mono boxes extended slightly beyond their lighter grey
  container (.reg-data). To fix that, .mono uses box-sizing: border-box and
  max-width:100% so padding and border are included in the width calculation
  and inner boxes don't escape their parent boundaries.
*/

.transport-actions .mdl-button {
  min-width: 120px;
}
/**
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

html, body {
  font-family: 'Roboto', 'Helvetica', sans-serif;
  margin: 0;
  padding: 0;
}

:root {
  /* configurable max-height for mono blocks inside dialogs/cards; viewport-relative by default */
  --mono-max-height: 60vh;
}

.cloak {
  visibility: hidden;
}

dialog .mdl-progress {
  position: absolute;
  bottom: 0px;
  left: 0px;
  width: 100%;
  z-index: 999;
}

body .mdl-layout__header-row {
  padding-left: 40px;
  height: 30px;
}

body .mdl-layout__header-row h3 {
  font-size: 30px;
  line-height: 36px;
  font-weight: 400;
}

/* Header title link (used in index.html and cbor.html) */
.title-link {
  color: inherit; /* match surrounding header text */
  text-decoration: none; /* remove underline */
  display: inline-block;
}
.title-link:focus, .title-link:hover {
  text-decoration: underline; /* subtle affordance on hover/focus */
}

body .mdl-layout__tab-bar-button {
  display: none;
}

body .mdl-layout .mdl-layout__tab-bar, body .mdl-layout .mdl-layout__tab-bar-container {
  overflow: visible;
}

body .mdl-layout__tab-bar-container {
  height: 64px;
}

body .mdl-layout__tab-bar {
  padding: 0;
  padding-left: 16px;
  box-sizing: border-box;
  height: 100%;
  width: 100%;
}

body .mdl-card__title-text {
  font-size: 24px;
}

body .mdl-layout__tab-bar .mdl-layout__tab {
  height: 64px;
  line-height: 64px;
}

body .mdl-layout__tab-bar .mdl-layout__tab.is-active::after {
  background-color: white;
  height: 4px;
}

/* Header control layout: title sits to the left, a group of FABs on the right. Use flex for responsiveness. */
body #signOutButton { position:absolute; right:16px; top:30px; z-index:999; color:white; }

/* New responsive FAB group placed in the header tab bar */
.fab-group {
  display: inline-flex;
  gap: 12px;
  align-items: center;
  position: absolute;
  right: 16px;
  top: 28px;
  z-index: 999;
}

/* Reduce FAB size on small screens to avoid wrapping */
.fab-group .mdl-button--fab { width: 56px; height: 56px; min-width: 56px; }

/* If the window is very narrow, collapse the group by scaling down */
@media (max-width: 760px) {
  .fab-group { gap: 8px; right: 8px; }
  .fab-group .mdl-button--fab { width: 48px; height: 48px; min-width: 48px; }
}

/* Overflow menu used on narrow screens */
.fab-overflow { position: absolute; right: 8px; top: 26px; z-index: 1000; display: none; }

@media (max-width: 560px) {
  /* On very small screens, hide the large FABs and show overflow */
  .fab-group { display: none; }
  .fab-overflow { display: block; }
}

/* (header small controls removed) */

/* Back button fallback (used in CBOR page) still absolute when present */
body #cborBackButton { position:absolute; right:40px; top:36px; z-index:999; color:white; }
body #cborBackButton .material-icons { color:inherit; }

p {
  font-size: 14px;
  margin: 0 0 8px 0px;
  word-wrap: break-word;
}

.highlighted {
  animation: 2000ms linear 0ms normal highlightedKeyframes;
}

select {
  min-width: 200px;
  height: 20px;
}

/* Small numeric inputs for fake exclude credential controls */
.small-number-input {
  width: 90px; /* compact width */
  box-sizing: border-box;
}

.float-right {
  float: right;
}

.mdl-dialog__content {
  font-size: 16px;
  /* Allow dialog content to flex and scroll when dialog height is constrained
     by the viewport. Using flex on the dialog container (see .mdl-dialog)
     plus min-height:0 here ensures overflow-y works reliably across browsers. */
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
}

dialog {
  min-width: 450px;
}

/* Hybrid layout: flex single column on narrow screens, masonry-style columns on wide screens to reduce vertical gaps */
#createDialog { width: clamp(200px, 90vw, 420px); max-width:100%; }
#createDialog .mdl-dialog__content {
  max-height: 75vh;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px; /* spacing for single column */
  -webkit-overflow-scrolling: touch; /* Enable smooth scrolling on Safari/iOS */
}
#createDialog .mdl-dialog__content > hr { display:none; }
#createDialog .mdl-dialog__content > span {
  background:#fafafa;
  border:1px solid #e5e5e5;
  border-radius:4px;
  padding:6px 12px;
  margin: 0;
  box-sizing: border-box;
  flex-shrink: 0; /* Prevent items from shrinking */
}


/* Hybrid layout for Get Credential dialog */
#getDialog { width: clamp(200px, 90vw, 420px); max-width:100%; }
#getDialog .mdl-dialog__content {
  max-height: 75vh;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  -webkit-overflow-scrolling: touch;
}
#getDialog .mdl-dialog__content > hr { display:none; }
#getDialog .mdl-dialog__content > span {
  background:#fafafa;
  border:1px solid #e5e5e5;
  border-radius:4px;
  padding:6px 12px;
  margin: 0;
  box-sizing: border-box;
  flex-shrink: 0;
}


/* Narrow screens remain single column automatically; no horizontal scroll due to width clamp */

/* Dialog sizing: keep key dialogs responsive and similar widths */
/* Use a clamp-based width so these dialogs expand on wider screens but remain usable on small viewports. */
#creationDataDialog,
#authenticationDataDialog {
  width: clamp(480px, 60vw, 1100px);
  max-width: 95vw;
  min-width: 420px;
}

@keyframes highlightedKeyframes {
  0% {
    background-color: #FFFFFF;
  }
  50% {
    background-color: #00897b;
  }
  100% {
    background-color: #FFFFFF;
  }
}

.mdl-dialog {
  width: 400px;
  /* Keep the dialog from exceeding the viewport height and allow
    its inner content area to scroll when needed. Use flexbox so
    header/title and actions keep their intrinsic size while the
    content area takes the remaining space and becomes scrollable. */
  margin: 24px auto;
  max-height: calc(100vh - 48px);
  display: flex;
  flex-direction: column;
  overflow: hidden; /* clip outer overflow; inner content scrolls */
}

.mdl-dialog__title {
  padding: 24px 24px 0;
  margin: 0;
  font-size: 1.5rem;
}

a {
  text-decoration: none;
  color: rgb(63, 81, 181);
}

/*
.mdl-dialog {
  border: none;
  box-shadow: 0 9px 46px 8px rgba(0, 0, 0, 0.14), 0 11px 15px -7px rgba(0, 0, 0, 0.12), 0 24px 38px 3px rgba(0, 0, 0, 0.2);
  width: 280px;
}


}

.mdl-dialog__actions {
  padding: 8px 8px 8px 24px;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-flex-direction: row-reverse;
  -ms-flex-direction: row-reverse;
  flex-direction: row-reverse;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
}

.mdl-dialog__actions>* {
  margin-right: 8px;
  height: 36px;
}

.mdl-dialog__actions>*:first-child {
  margin-right: 0;
}

.mdl-dialog__actions--full-width {
  padding: 0 0 8px 0;
}

.mdl-dialog__actions--full-width>* {
  height: 48px;
  -webkit-flex: 0 0 100%;
  -ms-flex: 0 0 100%;
  flex: 0 0 100%;
  padding-right: 16px;
  margin-right: 0;
  text-align: right;
}

.mdl-dialog__content {
  padding: 20px 24px 24px 24px;
  color: rgba(0, 0, 0, 0.54);
}*/

#signInPrompt {
  background-color: #FAFAFA;
  height: 100%;
  padding-top: 200px;
  margin: auto;
  width: 300px;

};

.text-center {
  text-align: center;
}

.center {
  margin-left: auto;
  margin-right: auto;
}

.text-italic {
  font-style: italic;
}

.text-muted {
  color: #6c757d;
}

.mb-5 {
  margin-bottom: 5px;
}

.mt-5 {
  margin-top: 5px;
}

.mt-10 {
  margin-top: 10px;
}

#loginHeader {
  text-align: center;
  margin-bottom: 5px;
}

#loginFooter {
  text-align: center;
  margin-top: 15px;
}

.footer-links {
  text-align: center;
  margin: 40px 0 30px;
  font-size: 12px;
  color: #666;
}

.footer-links a {
  color: rgb(63, 81, 181);
}

.footer-links a:hover {
  text-decoration: underline;
}

/* Visually indicate disabled credentials */
.cred-disabled {
  background-color: #f5f5f5; /* slightly muted background */
  color: #9e9e9e; /* muted text color */
  opacity: 0.9;
}
.cred-disabled .mdl-card__title-text,
.cred-disabled .reg-data-list,
.cred-disabled .reg-data-body,
.cred-disabled .reg-data-header,
.cred-disabled pre,
.cred-disabled .mono,
.cred-disabled dt,
.cred-disabled dd {
  color: #8a8a8a;
}
/* keep action buttons fully opaque so enable/disable remains discoverable */
/* Actions: by default, dim actions on disabled cards but keep toggle enabled */
.cred-disabled .mdl-card__actions a,
.cred-disabled .mdl-card__actions button {
  opacity: 0.85;
  color: #9e9e9e;
}
/* Keep the enable/disable toggle fully visible and interactive */
.cred-disabled .mdl-card__actions .toggleEnabledButton {
  opacity: 1 !important;
  color: rgb(63, 81, 181) !important;
  pointer-events: auto !important;
}
/* Disable Authenticate button on disabled cards (non-interactive and visibly muted) */
.cred-disabled .mdl-card__actions .authenticateCredentialButton {
  opacity: 0.45 !important;
  pointer-events: none !important;
  cursor: default !important;
  color: #9e9e9e !important;
}


/* Authenticator AAGUID name label inserted above mono-blocks */
.aaguid-name {
  font-size: 13px;
  color: #333;
  line-height: 1.2;
  margin-bottom: 6px;
  white-space: normal; /* allow wrapping */
}

.aaguid-name::after {
  content: '';
  display: block;
  height: 0;
}

/* AAGUID mono-block layout: three columns â€” icon | text | actions
   Make icon and actions columns fixed-width so the copy icon lines up with other entries. */
.aaguid-mono-block {
  display: grid;
  grid-template-columns: 1fr 44px 44px; /* text (fluid) | icon (44px) | actions (44px) */
  gap: 8px; /* match .mono-block default */
  align-items: center;
}
.aaguid-mono-block { width: 100%; grid-auto-flow: column; }
.aaguid-icon-wrap { width: 44px; display: flex; align-items: center; justify-content: center; }
.aaguid-icon { width: 32px; height: 32px; object-fit: contain; border-radius: 4px; }
/* Keep the pre styling (background/padding) so the rounded rectangle appears around the AAGUID text */

/* Mono block wrapper: positions a small copy button top-right of pre blocks */
.mono-block {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  align-items: start;
  width: 100%;
}
.mono-block .copy-to-clipboard {
  min-width: 36px;
  height: 36px;
  padding: 6px;
}
.mono-block pre.mono {
  max-height: var(--mono-max-height);
  overflow: auto;
  padding: 12px;
  box-sizing: border-box;
  min-width: 0; /* allow shrink in constrained containers */
  width: 100%;
}

/* Ensure AAGUID mono-block uses a three-column grid even though .mono-block sets a different template.
   Specific selector (.mono-block.aaguid-mono-block) ensures this rule wins. */
.mono-block.aaguid-mono-block {
  grid-template-columns: 1fr 44px 44px !important;
  display: grid;
  gap: 8px;
  align-items: center;
}

/* Force column placement so order is guaranteed regardless of DOM or inherited styles */
.aaguid-mono-block > pre.mono { grid-column: 1 / 2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; writing-mode: horizontal-tb; }
.aaguid-mono-block > .aaguid-icon-wrap { grid-column: 2 / 3; }
.aaguid-mono-block > .mono-actions { grid-column: 3 / 4; }
/* allow the text column to shrink inside the grid instead of forcing wrapping */
.aaguid-mono-block > pre.mono { min-width: 0; }

/* Ensure mono-block inside reg-data-list dd participates properly in dd's layout */
.reg-data-list dd > .mono-block { flex: 1 1 auto; min-width: 0; display: grid; }

/* Header-style bar placed above the mono pre */
.mono-actions {
  display: flex;
  align-items: center;
  justify-content: center;
  padding-left: 0;
  /* Reserve space so the mono-block width doesn't change when the button is hidden */
  width: 44px; /* matches typical action button tappable area */
  min-width: 44px;
}
.mono-actions .mdl-button {
  min-width: 36px;
  height: 36px;
  padding: 6px;
}

@media (max-width: 640px) {
  .mono-block { grid-template-columns: 1fr; }
  /* On narrow screens collapse to a single column and let actions flow naturally */
  .mono-actions { margin-left: 0; margin-top: 8px; justify-content: flex-start; width: auto; min-width: 0; }
}

/* AAGUID responsive: on narrow screens show text on first row, icon+copy on second row */
@media (max-width: 640px) {
  .mono-block.aaguid-mono-block {
    display: grid !important;
    grid-template-columns: 1fr 44px !important; /* text | icon+action */
    grid-template-rows: auto auto !important;
    grid-template-areas: 
      "text text"
      "icon actions";
    gap: 8px;
    width: 100%;
  }
  .aaguid-mono-block > pre.mono {
    grid-area: text;
    white-space: normal; /* allow wrapping on narrow screens */
    overflow: visible;
    min-width: 0;
  }
  .aaguid-mono-block > .aaguid-icon-wrap { grid-area: icon; justify-content: flex-start; }
  .aaguid-mono-block > .mono-actions { grid-area: actions; justify-content: center; }
}

/* Algorithm priority list */
.alg-list { list-style: none; margin: 0 0 8px 0; padding: 0; }
.alg-list li { display: flex; align-items: center; justify-content: space-between; padding: 4px 0; border-bottom: 1px solid #eee; }
.alg-list li:last-child { border-bottom: none; }
.alg-actions { display: flex; gap: 4px; }
.alg-actions button { background: transparent; border: 1px solid #ccc; border-radius: 3px; cursor: pointer; padding: 2px 6px; font-size: 12px; line-height: 1; color: #3f51b5; }
.alg-actions button:hover { background: #f5f5f5; }
.alg-actions button:disabled { opacity: 0.3; cursor: default; }
.alg-warning { color: #d32f2f; font-size: 12px; margin: 4px 0 8px; }

/* View Certificates icon button in credential cards */
.view-cert-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: transparent;
  border: none;
  cursor: pointer;
  color: #3f51b5; /* primary color */
  text-decoration: none;
}
.view-cert-btn .material-icons { font-size: 20px; line-height: 20px; }
.view-cert-btn:hover {
  background: rgba(63,81,181,0.08);
}
.mdl-card__actions .view-cert-btn { margin-left: 8px; }

/* Copy button next to credential ID: visually similar to cert-copy-fingerprint */
.cred-copy-id {
  padding: 6px 8px !important;
  min-width: 0 !important;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: transparent !important;
  color: #1a73e8 !important;
  border: none !important;
}
.cred-copy-id .material-icons { font-size:18px !important; color: inherit !important; }

/* AAGUID copy button style mirrors Credential ID copy button */
.aaguid-copy-id { padding: 6px 8px !important; min-width: 0 !important; height: 36px; display: inline-flex; align-items: center; justify-content: center; background: transparent !important; color: #1a73e8 !important; border: none !important; }
.aaguid-copy-id .material-icons { font-size:18px !important; color: inherit !important; }

/* Registration summary block in credential cards */
.reg-data { margin-top: 8px; padding: 8px 10px; background: #fafafa; border: 1px solid #eee; border-radius: 4px; }
.reg-data-header { display:flex; align-items:center; gap:8px; margin-bottom:6px; }
.reg-data-controls { margin-left: auto; display:flex; gap:8px; align-items:center; }
.reg-data-list { margin:0; padding:0; display:block; }
.reg-data-list dt { font-weight:600; color:#333; margin: 12px 0 4px 0; }
.reg-data-list dd { margin:0 0 12px 0; color:#555; display:block; align-items:baseline; gap:8px; overflow-wrap:anywhere; word-break:normal; }
.reg-data-list dd::before { content: ""; }
.reg-data-list dd .credential-id { display:block; min-width:0; white-space:normal; overflow-wrap:anywhere; word-break:break-all; }

.reg-data-body { display:block; }
.reg-data-body.collapsed { display:none; }

.reg-data-toggle { padding:6px; min-width:0; height:36px; display:inline-flex; align-items:center; justify-content:center; }

/* Transport chips for credential transports */
/* Transport chips for credential transports (non-interactive decorative chips) */
/* Small spacing helper for MDL chips inside reg-data */
.reg-data .mdl-chip { margin-right: 6px; margin-bottom: 4px; }

/* DECODE button placement inside reg-data/dialog content: ensure button sits below its related value */
.decode-action { margin-top: 6px; }
.decode-action .mdl-button { padding: 6px 8px !important; min-width: 0 !important; height: 36px; }

/* Ensure decode-action sits on its own row inside the registration data dd (which is a flex container) */
.reg-data-list dd > span { flex: 1 1 auto; min-width: 0; display: block; }
.reg-data-list dd > .mono { flex: 1 1 auto; min-width: 0; display: block; }
.reg-data-list dd .decode-action { flex: 0 0 100%; display:flex; gap:8px; justify-content:flex-start; margin-top:6px; }

/* Monospace block used for long hex/CBOR/JSON values inside dialogs/cards */
.mono {
  /* Use the same mono font stack and size as certificate public key blocks to avoid wrapping */
  font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Monaco, 'Roboto Mono', 'Segoe UI Mono', 'Liberation Mono', monospace;
  font-size: 13px;
  white-space: pre-wrap !important;
  word-break: normal !important;
  overflow-wrap: anywhere !important;
  margin: 0; /* reset pre default margins inside dd */
  padding: 0; /* keep inline with reg-data spacing */
  /* Limit height so huge hex/CBOR blobs don't expand the dialog; allow internal scrolling.
    Use the configurable --mono-max-height (viewport-relative) with a pixel fallback. */
  max-height: var(--mono-max-height, 260px);
  overflow-y: auto;
  /* Ensure the width calculation includes padding and border so a 100% width
     mono box (used elsewhere) stays inside its parent (.reg-data) and
     doesn't overflow the grey section boundary. */
  box-sizing: border-box;
  max-width: 100%;
  padding: 8px 6px;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 4px;
}

/* Stronger enforcement: ensure mono blocks render horizontally and span available width */
.reg-data-list dd > .mono {
  width: 100% !important;
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  line-height: 1.25 !important;
  white-space: pre-wrap !important;
  word-break: break-word !important;
  overflow-wrap: anywhere !important;
}

/* Left-column placement for DECODE action: sit under dt label in the left column */
.decode-action-left { margin-top:6px; }
.decode-action-left .mdl-button { padding: 4px 6px !important; min-width: 0 !important; height: 28px; font-size: 12px; }

/* Responsive adjustments for credential cards and registration summary on narrow screens */
@media (max-width: 760px) {
  /* Make credential cards take full width and stack vertically */
  .mdl-cell.mdl-cell--4-col, .mdl-grid > .mdl-cell { width: 100% !important; box-sizing: border-box; }
  /* Increase card spacing for readability */
  .mdl-card { margin-bottom: 14px; }
  /* Stack labels above values for reg-data lists (single-column everywhere) */
  .reg-data-list { display: block; }
  .reg-data-list dt { font-size: 0.95em; }
  .reg-data-list dd { display:block; margin:0 0 8px 0; color:#555; }
  .reg-data-list dd .credential-id { word-break: break-word; }
  /* Ensure header buttons in reg-data-header wrap nicely */
  .reg-data-header { flex-wrap: wrap; gap:6px; }
}

/* Keep reg-data-list stacked at all widths: label above value */

/* Additional narrow-screen tweaks for credential cards */
@media (max-width: 760px) {
  /* Slightly smaller titles to avoid overflow */
  .mdl-card__title-text { font-size: 18px; line-height: 22px; }

  /* Make action buttons wrap instead of overflowing */
  .mdl-card__actions { display:flex; flex-wrap:wrap; gap:8px; }
  .mdl-card__actions .mdl-button { margin-bottom:6px; }

  /* Give reg-data a bit more breathing room for touch */
  .reg-data { padding: 12px; }

  /* Ensure long hex/ID text breaks properly */
  .reg-data-list dd, .reg-data-list dt { word-break: break-word; overflow-wrap: anywhere; }

  /* Make credential-id text smaller to fit when necessary */
  .reg-data-list dd .credential-id { font-size: 14px; }
}

/* Certificate dialog action buttons under each cert */
.cert-actions { display:flex; gap:8px; margin-top:8px; }
.cert-actions .material-icons { vertical-align: middle; }

/* Make per-cert action buttons visually consistent */
#certsDialog .cert-actions .mdl-button {
  display: inline-flex !important;
  align-items: center;
  gap: 8px;
  background: transparent !important;
  border: none !important;
  color: #1a73e8 !important; /* use a consistent primary/link color */
  text-transform: none !important;
  font-weight: 500 !important;
  padding: 6px 8px !important;
  min-width: 0 !important;
}

#certsDialog .cert-actions .mdl-button .material-icons {
  color: inherit !important;
  font-size: 20px !important;
  line-height: 20px !important;
}

/* hover effect to match other action links/buttons */
#certsDialog .cert-actions .mdl-button:hover {
  background: rgba(26,115,232,0.06) !important;
}

/* Icon-only copy buttons next to fingerprint/serial */
/* Match per-cert action buttons */
#certsDialog .cert-copy-fingerprint,
#certsDialog .cert-copy-serial {
  padding: 6px 8px !important;
  min-width: 0 !important;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: transparent !important;
  color: #1a73e8 !important;
  border: none !important;
}
#certsDialog .cert-copy-fingerprint .material-icons,
#certsDialog .cert-copy-serial .material-icons { font-size:18px !important; color: inherit !important; }

/* Public key copy button: same style as other copy icons */
#certsDialog .cert-copy-publickey {
  padding: 6px 8px !important;
  min-width: 0 !important;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: transparent !important;
  color: #1a73e8 !important;
  border: none !important;
}
#certsDialog .cert-copy-publickey .material-icons { font-size:18px !important; color: inherit !important; }

/* Responsive adjustments: allow per-cert action buttons to wrap and
   use a compact icon-first layout on narrow screens so label text doesn't
   overflow or get truncated. This keeps icons visible and tappable.
*/
@media (max-width: 520px) {
  /* Let the action buttons wrap to multiple lines */
  .cert-actions {
    flex-wrap: wrap;
    align-items: center;
  }

  /* Make each button a bit more compact and allow it to shrink */
  #certsDialog .cert-actions .mdl-button {
    padding: 6px 6px !important;
    font-size: 13px !important;
    gap: 6px !important;
    min-width: 0 !important;
  }

  /* When space is very narrow, show an icon-first style where label can wrap
     onto the next line; ensure icons remain left-aligned and visible. */
  @media (max-width: 380px) {
    #certsDialog .cert-actions .mdl-button {
      display: inline-flex !important;
      flex-direction: row !important;
      align-items: center !important;
      gap: 6px !important;
      padding: 6px 6px !important;
    }
    /* If necessary, hide the text on ultra-narrow screens but keep title accessible
       via title attribute (handled in JS if desired). We prefer to keep text when possible,
       so only reduce visibility using a subtle technique: shrink text and allow wrapping. */
    #certsDialog .cert-actions .mdl-button { white-space: normal !important; }
  }
}

/* Make certificates dialog wider on larger screens */
/* Certificates dialog: prefer content-width but cap at a reasonable max */
#certsDialog.mdl-dialog, dialog#certsDialog {
  width: auto;
  max-width: 1100px;
  /* add bottom padding so footer buttons aren't flush to the dialog edge */
  padding: 0 16px 24px;
}

/* Layout certificate cards as a single column (top-to-bottom). Each card
   stretches to fill the dialog content width so available space on the right
   is used. This keeps the vertical flow but makes entries flexible. */
#certsDialog .mdl-dialog__content {
  display: flex !important;
  flex-direction: column;
  gap: 16px;
  align-items: stretch;
}

/* Ensure each cert card uses the full width of the dialog content area */
#certsDialog .cert-card { width: 100%; box-sizing: border-box; }

.cert-dialog-actions { display:flex; gap:8px; align-items:center; }
/* Ensure actions sit at the bottom-right of the dialog and force LTR ordering
  so Download Chain appears on the left and Close on the right. Use
  explicit orders to survive MDL DOM upgrades. */
.cert-dialog-actions {
  margin-top: 12px;
  display: flex;
  gap: 8px;
  justify-content: space-between;
  align-items: center;
  /* create breathing room below the buttons */
  padding-bottom: 12px;
}

/* Force left-to-right direction inside the certs dialog to avoid RTL or
   MDL transforms that can reverse button order. Use !important to make
   these styles take precedence after runtime upgrades. */
#certsDialog {
  direction: ltr !important;
}
#certsDialog .cert-dialog-actions {
  direction: ltr !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
}
/* Explicit ordering of footer children: left group first, right group second */
#certsDialog .cert-dialog-actions > div:first-child { order: 0 !important; }
#certsDialog .cert-dialog-actions > div:last-child { order: 1 !important; }
#certsDialog #certsDownloadChain { order: 0 !important; }
#certsDialog #certsDialog_x { order: 1 !important; }

/* Use explicit left/right flex containers so Download Chain stays left and
   Close stays right in a deterministic way that survives runtime DOM
   changes from MDL. The right container uses margin-left:auto to push it
   to the far right. */
#certsDialog .cert-dialog-actions {
  position: static !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  /* prefer single-row layout; allow wrapping only when necessary */
  flex-wrap: nowrap !important;
  flex-direction: row !important;
  justify-content: space-between !important;
}

#certsDialog .cert-actions-left {
  display: flex;
  gap: 8px;
  align-items: center;
}

#certsDialog .cert-actions-right {
  display: flex;
  gap: 8px;
  align-items: center;
  margin-left: auto !important; /* keep Close on the right */
}

/* Responsive fallback: on narrow viewports, revert to normal flow so buttons
   wrap and maintain accessibility on small screens. */
@media (max-width: 520px) {
  /* Keep footer actions as a flex container and preserve left/right
     alignment. Use margin-left:auto on the Close button to push it to the right.
     This avoids position:absolute issues while keeping the layout stable. */
  #certsDialog .cert-dialog-actions {
    position: static !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    gap: 8px !important;
    flex-wrap: wrap;
  }

  #certsDialog #certsDownloadChain {
    position: static !important;
    order: 0 !important;
    margin-left: 0 !important;
  }

  /* On narrow screens, allow wrapping but keep the left group before the
     right group. Prefer to keep them on one row if space permits; when they
     wrap, the right group is right-aligned on its own row. */
  #certsDialog .cert-dialog-actions { flex-wrap: wrap !important; }

  #certsDialog .cert-actions-left {
    order: 0 !important;
    flex: 1 1 auto !important;
    display: flex !important;
    gap: 8px !important;
    align-items: center !important;
  }

  #certsDialog .cert-actions-right {
    order: 1 !important;
    flex: 0 0 auto !important;
    display: flex !important;
    gap: 8px !important;
    align-items: center !important;
    margin-left: auto !important; /* keep Close on the right */
    justify-content: flex-end !important;
  }
}

/* Strong enforcement for wide screens: ensure left then right ordering and
   single-row layout. This overrides MDL dialog defaults that sometimes
   reposition children. */
@media (min-width: 900px) {
  #certsDialog .cert-dialog-actions {
    flex-wrap: nowrap !important;
    justify-content: space-between !important;
  }
  #certsDialog .cert-actions-left { order: 0 !important; }
  #certsDialog .cert-actions-right { order: 1 !important; margin-left: auto !important; }
}

/* Improve cert card visuals */
.cert-card {
  border-radius: 4px;
  overflow: visible;
  padding-bottom: 8px;
  border: 1px solid rgba(0,0,0,0.08);
}
.cert-card small { color: #555; display:block; }
.cert-actions .material-icons { color: #666; }
.cert-actions button.mdl-button { background: transparent; }

/* Force wrapping for long certificate fields so text doesn't overflow the card */
#certsDialog .cert-card,
#certsDialog .cert-card * {
  box-sizing: border-box;
}

#certsDialog .cert-card small,
#certsDialog .cert-card .fingerprint,
#certsDialog .cert-card .key-usage,
#certsDialog .cert-card .ext-key-usage,
#certsDialog .cert-card .subject-alt-name,
#certsDialog .cert-card dt,
#certsDialog .cert-card dd {
  word-break: break-word !important;
  overflow-wrap: anywhere !important;
  white-space: normal !important;
}

/* Ensure inline icon buttons (copy icon) don't force the fingerprint to stay on one line */
#certsDialog .cert-copy-fingerprint {
  display: inline-flex !important;
  vertical-align: middle !important;
}

/* Make the fingerprint label area allow wrapping while keeping the icon on its own line if space is tight */
#certsDialog .fingerprint-container {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 8px;
  flex-wrap: wrap;
}
#certsDialog .fingerprint-text { flex: 1 1 auto; }
#certsDialog .fingerprint-icon { flex: 0 0 auto; }

/* Visual block for public key hex */
.public-key-block {
  margin-top: 8px;
}
.public-key-block .public-key-hex {
  display: block;
  width: 100%;
  /* match the card look: subtle border, transparent background */
  background: transparent;
  border: 1px solid rgba(0,0,0,0.06);
  padding: 8px;
  border-radius: 4px;
  font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
  font-size: 13px;
  color: #555; /* match .cert-card small color */
  white-space: pre-wrap !important;
  word-break: break-word !important;
  overflow-wrap: anywhere !important;
  max-height: 220px;
  overflow: auto;
}
.public-key-block .public-key-hex::selection { background: rgba(26,115,232,0.12); }

/* Collapsible public key block */
.public-key-block .public-key-hex { display: block; }
.public-key-block.collapsed .public-key-hex { display: none; }

/* Hex displays: avoid breaking inside colon-separated byte pairs. Allow horizontal scroll instead. */
.hex-mono {
  white-space: pre !important;
  overflow-x: auto !important;
  word-break: normal !important;
  overflow-wrap: normal !important;
}

/* Plaintext pre blocks (e.g., Client Data JSON) should wrap instead of producing horizontal scrollbars */
.hex-plain-wrap {
  white-space: pre-wrap !important;
  word-break: break-word !important;
  overflow-wrap: anywhere !important;
  overflow-x: hidden !important;
}

/* Stronger rule for hex displays inside registration dialogs to avoid accidental wrapping
   when .mono or .reg-data-list rules try to apply pre-wrap. This ensures the computed
   bytes-per-row can render without being reflowed onto multiple visual lines. */
.mdl-dialog__content .hex-mono,
.reg-data-list dd .hex-mono {
  white-space: pre !important;
  overflow-x: auto !important;
  word-break: normal !important;
  overflow-wrap: normal !important;
}

/* HexDebug styles removed. */
/* Keep toggle inline with the small label text */
.public-key-toggle, .cert-copy-publickey { display: inline-flex; margin-left: 8px; vertical-align: middle; align-items: center; gap: 6px; line-height: 20px; }
.public-key-toggle { padding: 6px 8px; font-weight: 500; }

/* Match visual style of other action buttons: remove heavy background and use link-like appearance */
.public-key-toggle.mdl-js-button { background: transparent !important; color: #1a73e8 !important; text-transform: none !important; font-weight: 500 !important; }
.public-key-toggle .material-icons { font-size: 18px; }

/* Right-align dialog actions at bottom-right */
.mdl-dialog__actions.cert-dialog-actions { display:flex; justify-content:space-between; padding:12px 24px 18px 24px; }
.mdl-dialog__actions.cert-dialog-actions .mdl-button { min-width: 120px; }

/* Force Download Chain on the left and Close on the right */
#certsDownloadChain { order: 0; }
#certsDialog_x { order: 1; margin-left: auto; }

/* Make dialog content tighter */
.mdl-dialog__content { padding: 12px 16px 0 16px; }

/* Styling for the Decode CBOR button in the creation data dialog */
.openCborButton {
  margin-left: 8px; /* keep spacing but defer visual style to MDL */
}
.openCborButton.mdl-button { min-width: 0; }